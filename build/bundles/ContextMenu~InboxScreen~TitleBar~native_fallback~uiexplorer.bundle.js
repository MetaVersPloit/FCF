(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(626)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=n?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(r,u,c):r[u]=e[u]}r.default=e,t&&t.set(e,r);return r}(r(0)),c=f(r(2)),a=r(121);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let l=[];var s=(0,u.forwardRef)((function(e,t){const{children:r,className:o,...f}=e,s=(0,u.useRef)(null),d=(0,u.useRef)(null),b=(0,u.useCallback)(e=>{"function"==typeof t?t(e):null!=t&&(t.current=e),d.current=e},[t]);(0,u.useLayoutEffect)(()=>d.current?(l.push(d.current),()=>{l=l.filter(e=>e!==d.current)}):()=>{},[]),(0,n.default)(d),(0,u.useLayoutEffect)(()=>{s.current=document.activeElement;return()=>{s.current&&s.current.focus()}},[]);const p=(0,u.useCallback)(()=>{if(!d.current)return;const e=(0,a.getLastTabbable)(d.current);e&&e.focus()},[]),v=(0,u.useCallback)(()=>{if(!d.current)return;const e=(0,a.getFirstTabbable)(d.current);e&&e.focus()},[]);return(0,u.useLayoutEffect)(()=>{if(d.current)return window.addEventListener("focusin",e),()=>{d.current&&d.current.removeEventListener("focusin",e)};function e(e){if(d.current&&l.length&&d.current===l[l.length-1]&&(!e.target||!d.current.contains(e.target))){const e=(0,a.getInitialTabbable)(d.current);e?e.focus():v()}}},[v]),u.default.createElement(c.default,i({},f,{className:o,ref:b,css:void 0}),u.default.createElement("div",{tabIndex:0,onFocus:p}),r,u.default.createElement("div",{tabIndex:0,onFocus:v}))}));t.default=s},626:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,u.useEffect)(()=>{if(e.current){const t=(0,n.getInitialTabbable)(e.current);t&&window.requestAnimationFrame(()=>t.focus())}},[e])};var n=r(121),u=r(0)}}]);
//# sourceMappingURL=https://intern.facebook.com/intern/messenger/desktop/sourcemaps?archon_build_number=332019425&map_path=../sourcemaps/ContextMenu~InboxScreen~TitleBar~native_fallback~uiexplorer.bundle.js.map